<html>
  <head>
    <title>Movies</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  </head>
  <body>
    <main>
      <div class="container">
        <h1>Movies</h1>
        <div id="v-app">
          <table class="table table-striped">
            <tr>
              <th>#</th>
              <th>Title</th>
              <th>Director</th>
              <th>Actions</th>
            </tr>
            <tr v-for="movie in movies" is="movie" :movie="movie"></tr>
          </table>
          <p class="lead">Here's a list of all your movies.
            <button @click="createMovie()" class="btn btn-primary">
              Add a new movie
            </button>
          </p>
          <pre>{{ $data }}</pre>
        </div>
      </div>
    </main>
    <template id="template-movie-raw">
      <tr>
        <td>
          {{movie.id}}
        </td>
        <td class="col-md-6">
          <input v-if="movie.editing" v-model="movie.title" class="form-control"></input>
          <span v-else>
            {{movie.title}}
          </span>
        </td>
        <td>
          <input v-if="movie.editing" v-model="movie.director" class="form-control"></input>
          <span v-else>
            {{movie.director}}
          </span>
        </td>
        <td>
          <div class="btn-group" v-if="!movie.editing">
            <button @click="editMovie(movie)" class="btn btn-default">Edit</button>
            <button @click="deleteMovie(movie)" class="btn btn-danger">Delete</button>
          </div>
          <div class="btn-group" v-else>
            <button v-if="movie.id" @click="updateMovie(movie)" class="btn btn-primary">Update Movie</button>
            <button v-else @click="storeMovie(movie)" class="btn btn-success">Save Movie</button>
            <button @click="movie.editing=false" class="btn btn-default">Cancel</button>
          </div>
        </td>
      </tr>
    </template>
<script src="https://unpkg.com/vue@2.3.2/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src='/js/app.js' type="text/javascript"></script>
  </body>
</html>